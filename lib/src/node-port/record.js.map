{"version":3,"sources":["record.ts"],"names":[],"mappings":"AAAA;;GAEG;AACH,OAAO,EAAC,aAAa,EAAC,MAAM,eAAe,CAAC;AAG5C,OAAO,EAAC,SAAS,EAAC,MAAM,aAAa,CAAC;AAGtC;IAKE,gBAAY,EAAU,EAAE,KAAY;QAClC,IAAI,CAAC,GAAG,GAAG,EAAE,CAAC;QACd,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;IACtB,CAAC;IAED,sBAAK,GAAL;QACE,MAAM,CAAC,IAAI,SAAS,CAAC;YACnB,IAAI,EAAE,IAAI,CAAC,MAAM,CAAC,IAAI;YACtB,MAAM,EAAE,aAAa,CAAC,GAAG;YACzB,IAAI,EAAK,IAAI,CAAC,MAAM,CAAC,kBAAkB,SAAI,IAAI,CAAC,GAAK;YACrD,MAAM,EAAE;gBACN,OAAO,EAAE,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,MAAM;aAClD;SACF,CAAC,CAAC,OAAO,EAAE,CAAC;IACf,CAAC;IAED,4BAAW,GAAX,UAAY,UAAe;QACzB,MAAM,CAAC,IAAI,SAAS,CAAC;YACnB,IAAI,EAAE,IAAI,CAAC,MAAM,CAAC,IAAI;YACtB,MAAM,EAAE,aAAa,CAAC,KAAK;YAC3B,IAAI,EAAK,IAAI,CAAC,MAAM,CAAC,kBAAkB,SAAI,IAAI,CAAC,GAAK;YACrD,MAAM,EAAE;gBACN,OAAO,EAAE,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,MAAM;aAClD;YACD,IAAI,EAAE,UAAU;SACjB,CAAC;aACC,OAAO,EAAE,CAAC;IACf,CAAC;IAED,0BAAS,GAAT,UAAU,UAAe;QACvB,MAAM,CAAC,IAAI,SAAS,CAAC;YACnB,IAAI,EAAE,IAAI,CAAC,MAAM,CAAC,IAAI;YACtB,MAAM,EAAE,aAAa,CAAC,GAAG;YACzB,IAAI,EAAK,IAAI,CAAC,MAAM,CAAC,kBAAkB,SAAI,IAAI,CAAC,GAAK;YACrD,MAAM,EAAE;gBACN,OAAO,EAAE,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,MAAM;aAClD;YACD,IAAI,EAAE,UAAU;SACjB,CAAC;aACC,OAAO,EAAE,CAAC;IACf,CAAC;IAED,wBAAO,GAAP;QACE,MAAM,CAAC,IAAI,SAAS,CAAC;YACnB,IAAI,EAAE,IAAI,CAAC,MAAM,CAAC,IAAI;YACtB,MAAM,EAAE,aAAa,CAAC,MAAM;YAC5B,IAAI,EAAK,IAAI,CAAC,MAAM,CAAC,kBAAkB,SAAI,IAAI,CAAC,GAAK;YACrD,MAAM,EAAE;gBACN,OAAO,EAAE,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,MAAM;aAClD;SACF,CAAC;aACC,OAAO,EAAE,CAAC;IACf,CAAC;IACH,aAAC;AAAD,CA1DA,AA0DC,IAAA","file":"record.js","sourceRoot":"","sourcesContent":["/**\r\n * Created by bohoffi on 30.05.2017.\r\n */\r\nimport {RequestMethod} from '@angular/http';\r\nimport {Observable} from 'rxjs/Observable';\r\n\r\nimport {RunAction} from './runaction';\r\nimport {Table} from './table';\r\n\r\nexport class Record {\r\n\r\n  private _id: string;\r\n  private _table: Table;\r\n\r\n  constructor(id: string, table: Table) {\r\n    this._id = id;\r\n    this._table = table;\r\n  }\r\n\r\n  fetch(): Observable<any> {\r\n    return new RunAction({\r\n      base: this._table.base,\r\n      method: RequestMethod.Get,\r\n      path: `${this._table.urlEncodedNameOrId}/${this._id}`,\r\n      params: {\r\n        api_key: this._table.base.airtable.options.apiKey\r\n      }\r\n    }).perform();\r\n  }\r\n\r\n  patchUpdate(entityData: any): Observable<any> {\r\n    return new RunAction({\r\n      base: this._table.base,\r\n      method: RequestMethod.Patch,\r\n      path: `${this._table.urlEncodedNameOrId}/${this._id}`,\r\n      params: {\r\n        api_key: this._table.base.airtable.options.apiKey\r\n      },\r\n      body: entityData\r\n    })\r\n      .perform();\r\n  }\r\n\r\n  putUpdate(entityData: any): Observable<any> {\r\n    return new RunAction({\r\n      base: this._table.base,\r\n      method: RequestMethod.Put,\r\n      path: `${this._table.urlEncodedNameOrId}/${this._id}`,\r\n      params: {\r\n        api_key: this._table.base.airtable.options.apiKey\r\n      },\r\n      body: entityData\r\n    })\r\n      .perform();\r\n  }\r\n\r\n  destroy(): Observable<any> {\r\n    return new RunAction({\r\n      base: this._table.base,\r\n      method: RequestMethod.Delete,\r\n      path: `${this._table.urlEncodedNameOrId}/${this._id}`,\r\n      params: {\r\n        api_key: this._table.base.airtable.options.apiKey\r\n      }\r\n    })\r\n      .perform();\r\n  }\r\n}\r\n"]}